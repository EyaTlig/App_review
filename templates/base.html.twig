<!-- base.html.twig -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}App Review{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style>
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Navbar fixe */
        .navbar-fixed {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: #343a40;
            color: #fff;
            position: fixed;
            top: 56px; /* hauteur navbar */
            bottom: 0;
            overflow-y: auto;
            padding-top: 1rem;
            transition: transform 0.3s ease;
        }

        .sidebar a {
            color: #adb5bd;
            text-decoration: none;
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 0.25rem;
            margin-bottom: 0.25rem;
        }
        .sidebar a:hover {
            background-color: #495057;
            color: #fff;
        }
        .nav-logo {
            height: 50px; /* augmente si tu veux plus grand : 50px, 60px... */
            width: auto;
        }

        .sidebar a i {
            margin-right: 0.5rem;
        }

        /* Contenu principal */
        .content {
            margin-left: 250px;
            padding: 2rem;
            padding-top: 5rem; /* pour navbar */
            transition: margin-left 0.3s ease;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                top: 56px;
                width: 100%;
            }
            .sidebar.show {
                transform: translateX(0);
            }
            .content {
                margin-left: 0;
                padding: 1rem;
                padding-top: 5rem;
            }
        }






    </style>
</head>
<body>
{% if app.request.attributes.get('_route') not in ['app_login', 'app_register'] %}

<!-- Navbar fixe -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark navbar-fixed">
    <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center fw-bold" href="/admin/dashboard">
            <img src="{{ asset('images/logo.png') }}" class="nav-logo me-2" alt="Logo">
            App-Review
        </a>
        <button class="navbar-toggler d-md-none" type="button" onclick="toggleSidebar()">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="d-flex ms-auto">

            {% if app.user %}
                <span class="navbar-text me-3">
        Bonjour, {{ app.user.name }}
    </span>
                <a class="btn btn-outline-light btn-sm" href="{{ path('app_logout') }}">DÃ©connexion</a>
            {% else %}
                <a class="btn btn-outline-light btn-sm" href="{{ path('app_login') }}">Connexion</a>
            {% endif %}
        </div>
    </div>
</nav>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
    <ul class="nav flex-column">
        <li class="nav-item"><a href="{{ path('admin_dashboard') }}"><i class="bi bi-speedometer2"></i> Dashbord</a></li>

        <li class="nav-item"><a href="{{ path('user_index') }}"><i class="bi bi-people"></i> Users</a></li>
        <li class="nav-item"><a href="{{ path('business_index') }}"><i class="bi bi-building"></i> Businesses</a></li>
        <li class="nav-item"><a href="{{ path('business_photo_all') }}"><i class="bi bi-image"></i> Business Photos</a></li>
        <li class="nav-item"><a href="{{ path('category_index') }}"><i class="bi bi-tags"></i> Categories</a></li>
        <li class="nav-item"><a href="{{ path('review_index') }}"><i class="bi bi-chat-left-text"></i> Reviews</a></li>
        <li class="nav-item"><a href="{{ path('review_photo_list') }}"><i class="bi bi-camera"></i> Review Photos</a></li>
    </ul>
</div>
{% endif %}

<!-- Contenu principal -->
<div class="{% if app.request.attributes.get('_route') in ['app_login', 'app_register'] %}full-height-center{% else %}content{% endif %}">
    {% block body %}{% endblock %}
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('show');
    }
</script>
{% block javascripts %}{% endblock %}
</body>
</html>
